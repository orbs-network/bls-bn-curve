import chai from 'chai';
import dirtyChai from 'dirty-chai';
import BigNumber from 'bignumber.js';

import expectRevert from './helpers/expectRevert';

const { expect } = chai;
chai.use(dirtyChai);

const Greeter = artifacts.require('../contracts/Greeter.sol');

contract('Greeter', (accounts) => {
  it('should use the greeter constructor to set a greeting', async () => {
    const greeting = 'Hello World!';
    const greeter = await Greeter.new(greeting)

    expect(await greeter.greeting.call()).to.eql(greeting);
  });

  it('should be able to change the greeting', async () => {
    const greeting = 'Hello World!';
    const greeting2 = 'Bye bye!';
    const greeter = await Greeter.new(greeting)

    await greeter.setGreeting(greeting2);
    expect(await greeter.greeting.call()).to.eql(greeting2);
  });
});
